using Microsoft.AspNetCore.Mvc;
using PlanMyDayApp.Model.Google_Flights;
using PlanMyDayApp.Model.Uber.GettingAddress;
using System.Net.Http.Headers;

namespace PlanMyDayApp.Controllers
{
    public class SouthWestController : Controller
    {

        SouthWestHelper helper = new SouthWestHelper();

        public IActionResult Index()
        {
            return View();
        }

        [HttpPost]
        [Route("getMeFlightsFromAirports")]
        public async Task<IActionResult> getMeFlightsFromAirports(FlyDetails fd)
        {
            using (HttpClient httpClient = new HttpClient())
            {
                // General Headers
                httpClient.DefaultRequestHeaders.Date = DateTimeOffset.UtcNow;

                // Request Headers
                httpClient.DefaultRequestHeaders.UserAgent.ParseAdd("Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/118.0");
                httpClient.DefaultRequestHeaders.Host = "www.southwest.com";
                httpClient.DefaultRequestHeaders.Add("Referer", helper.getMeReferer(fd));

                // Representation Headers (Request)
                httpClient.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("*/*"));
                httpClient.DefaultRequestHeaders.AcceptLanguage.ParseAdd("en-US,en;q=0.5");
                httpClient.DefaultRequestHeaders.Add("x-csrf-token", "x");

                httpClient.DefaultRequestHeaders.Add("x-swa-di-uid", " e45fbef0305a98533cd0cdcbeda406174f16");
                httpClient.DefaultRequestHeaders.Add("x-swa-di-usid", " 9e9568b3421cfa1ac8e8ff336f878ea31c67");
                httpClient.DefaultRequestHeaders.Add("x-swa-di-pid", " 2865549669666828");
                httpClient.DefaultRequestHeaders.Add("x-swa-di-dtid", " b421eeecf388811e9e4c2b24fc957b096d5f");
                httpClient.DefaultRequestHeaders.Add("x-swa-di-ue", " eyJ0cyI6MTY5OTQ3NDk1NjQ1OCwicGF5cyI6W251bGwsImV5SjBjeUk2TVRZNU9UUTNORGsxTVRrMU9Dd2ljR0Y1SWpvaVNsUldRMHBVWkVOS1ZFbDVZa2M1YWtwVVNYbEtWRTVDU2xSSmVXRklVakJqU0Uxc1RUQkZiRTFyV1d4TmExb3paRE5qZFdNeU9URmtSMmd6V2xoT01FeHRUblppVTFWNVVtMUdjR05wVlhsU2JVcDJZakowY0dKdFkyeE5hMXA2V2xkNGJGa3pVWFZoU0ZKMFlrTlZlbEp0YkhWa1ExVjZVa1ZvVUZSVlZsSlJhemxPVVZWc1UwcFVTVEpaVjFJeFlraFNVVmxZVG5wYVZ6VnVXbGhLZWxFeU9URmlibEZzVFRCUmVFcFVTVEphUjFaM1dWaEtNR1JZU214U1IwWXdXbE5WZWxKRVNYZE5hazEwVFZSRmRFMUVhMnhOYWxwcldsaE9NR0ZYTldoa1IyeDJZbXRHY0dOdVFuWmpibEpFWWpKU2JFcFVUa1ZVVlU1S1NsUkpNbHB0Um5sYVZsSTFZMGRWYkUwd1VsWlZNRkZzVFdwYWRtTnRiRzVoVnpWb1pFZHNkbUpyUm5CamJrSjJZMjVTUkdJeVVteEtWRTVGVTFWR1JVcFVTVEpqUjBaNll6SldkVm95Vm5sV1NHeDNXbE5WZWxKRlJrVldWWGhWU2xSSk1tTklTblppVnpsRVlqSlNiRXBVVGtWS1ZFa3lZMjFXTUdSWVNuVlNSMFl3V2xOVmVsSkRWWGxPYmxKNVlWaENWV1ZZUW14S1ZFNUZZakkxYkdReVJqVktWRWt5V201S2RtSlRWWHBTUld4Q1VrTlZlVTV1VW5aS1ZFNUZWRlZPU2twVVNUSlpWMUl4WWtoU2VsRXlPVEZpYmxGc1RUQlJlRXBVU1RKYVIxWjNXVmhLTUdSWVNteFdSMngwV2xVNWJWSkhSalZLVkU1RlVWVjRUVmd3VWtKWFUxVjVUbTVLYkdNeVZqQktWRTVGWkVoS01WcFRWWGxPYmtwc1pFaFdlV0pzVW5CaVYxWlFXbXRTYUdWVFZYcFNSVVpOVkVZNVJWRldhMnhOYWtsc1RXdE5iRTFxU25kaFYxRnNUV3BKYkUwd1JYbFBSRmt4VGxSUk5VNXFXVFZPYWxreVQwUkpORXBVU2tSS1ZFbDVZekpzYTBwVVNYbEtWRTVDWW01V2MySkRWWGxSZVZWNVRXMUtlbUZYVVd4TmFrbHNUVEJGYkUxcVNUVmFWR3N4VG1wb2FVMTZVWGxOVjA1dFdWUkdhRmw2YUd4UFIxcHRUWHBOTWxwcVp6TlBSMVpvVFhwR2FrNXFZMnhOYWtsc1RXdE5iRTFxU2pCamVWVjVUV2xWZWxGVVJUSlBWR3N3VG5wUk5VNVVRVEpQVkZsc1RXdE5iRTFxU2pCbFdFSnNTbFJKZVVwVVRrSktWRWw1WWxoU2VXRjVWWGxOYVZWNVVYbFZlVTF1UW1obFUxVjVUV2xWZWxGVFZUTlJhVlY1VFc1UmJFMXFTV3hOTUVWNFRtcHJOVTVFWXpCUFZGVjNUbXByTWtwVVNrUktWRWw1V20xUmJFMXFTV3hOTUVWNVRsUnJkVTlVU1d4TmEwMXNUV3BLZWxwRFZYbE5hVlY2VVZSUk1FOURORFJPUkVGM1RVUkJkMDFFUVhkTlJFRjNUWGxWZVZGNVZYbE5iVXBwU2xSSmVVcFVUa0pLVkZaRFRucFZNVXBVU2tSTmFsVXdTbFJLUkU5RVFUQktWRXBFVGtSbk5FcFVWa1ZLVkVwRVNsUkplV041VlhsTmFWVjZVVk5WTVZGcFZUTlJhVlY1VFc1UmJFMXFTV3hOTUVWM1NsUktSRXBVU1hsbFExVjVUV2xWZWxGVVl6Sk5hVlY1VVhsVmVVMXVhMnhOYWtsc1RUQkZNRTlFWjJ4TmEwMXNUV3BLYlZwRFZYbE5hVlY2VVZSRk5VOVROREpOVTFWNVVYbFZlVTF1VG10S1ZFbDVTbFJPUWsxVWF6Rk1hbEUxU2xSS1JFcFVTWGxaZVZWNVRXbFZlbEZVV1d4TmEwMXNUV3BLYUVwVVNYbEtWRTVDVFZSQk5FOUROREJQUTFWNVVYbFZlVTF0TVRSS1ZFbDVTbFJPUWsxcVFYbE9lVFF4VDFOVmVWRjVWWGxOYlRGMVNsUkplVXBVVGtKTlF6UjRUbWxWTTFKRFZYbFJlVlV6VVdsVmVVMXVVV3hOYWtsc1RUQkZlazlFWTJ4TmEwMXNUV3BLTkVwVVNYbEtWRTVDVDBSQk1FcFVTa1JLVkVsNVpWTlZlVTFwVlhwUlZGRjVUVk5WZVZGNVZYbE5iVnByU2xSSmVVcFVUa0pPZW10MVRsUlZiRTFyVFd4TmFrcDZXa05WZVUxcFZYcFJWR00xVEdwQk5FcFVTa1JLVkVsNVdYbFZlVTFwVlhwUlZFbHNUV3ROYkUxcVNtaEtWRWw1U2xST1FrMTZSWGhNYWtVelNsUktSRXBVU1hsaVdHZHNUV3BKYkUwd1JUSk5WR2QxVGxOVmVWRjVWWGxOYlRGMVNsUkplVXBVVGtKTmVUUTBUbE5WTTFKRFZYbFJlVlV6VVdsVmVVMXVVV3hOYWtsc1RUQkZNMDFVVFd4TmEwMXNUV3BLTkVwVVNYbEtWRTVDVG5wVk0wcFVTa1JLVkVsNVpWTlZlVTFwVlhwUlZFMTNUbWxWZVZGNVZYbE5iVnByU2xSSmVVcFVUa0pOVkVrd1RHcGpOVXBVU2tSS1ZFbDVZekpSYkUxcVNXeE5NRVY0VFdwUmRVMXFUV3hOYTAxc1RXcEtha3BVU1hsS1ZFNUNUME5WZVZGNVZYbE5iVVZzVFdwSmJFMHdSVEZPUkdkMVRWUk5iRTFyVFd4TmFrcDBaVU5WZVUxcFZYcFJWRWwzVFZSVmRVNVVXV3hOYTAxc1RXcEtkR0pwVlhsTmFWVjZVVlJGTWs1NU5EVk5hVlV6VWtOVmVWRjVWVE5SYVZWNVRXNVJiRTFxU1d4Tk1FVTFUbXBOYkUxclRXeE5ha28wU2xSSmVVcFVUa0pPZWxVeFNsUktSRXBVU1hsbFUxVjVUV2xWZWxGVVNURk9hVlY1VVhsVmVVMXRXbXRLVkVsNVNsUk9RazVVUVhWTlZHdHNUV3ROYkUxcVNucGFRMVY1VFdsVmVsRlVWWGRNYWtFd1NsUktSRXBVU1hsWmVWVjVUV2xWZWxGVVkyeE5hMDFzVFdwS2FFcFVTWGxLVkU1Q1RXcEZNRXhxYTJ4TmEwMXNUV3BLZEdWRFZYbE5hVlY2VVZSSk1VMURWWGxSZVZWNVRXMHhkVXBVU1hsS1ZFNUNUVlJWZVV4cVZUQktWR1JGU2xSV1JVcFVTa1JLVkVsNVdYbFZlVTFwVlhwUlZFVTFTbFJLUkVwVVNYbGpNazFzVFdwSmJFMHdSVEJLVkdSRlNsUmtSVXBVVmtVaWZRPT0iLCJleUowY3lJNk1UWTVPVFEzTkRrMU5qUTFPQ3dpY0dGNUlqb2lTbFJXUTBwVVpFTktWRWw1WWtjNWFrcFVTWGxLVkU1Q1NsUkplV0ZJVWpCalNFMXNUVEJGYkUxcldXeE5hMW96WkROamRXTXlPVEZrUjJneldsaE9NRXh0VG5aaVUxVjVVbTFHY0dOcFZYbFNiVXAyWWpKMGNHSnRZMnhOYTFwNldsZDRiRmt6VVhWaFNGSjBZa05WZWxKdGJIVmtRMVY2VWtWb1VGUlZWbEpSYXpsT1VWVnNVMHBVU1RKWlYxSXhZa2hTVVZsWVRucGFWelZ1V2xoS2VsRXlPVEZpYmxGc1RUQlJlRXBVU1RKYVIxWjNXVmhLTUdSWVNteFNSMFl3V2xOVmVsSkVTWGROYWsxMFRWUkZkRTFFYTJ4TmFscHJXbGhPTUdGWE5XaGtSMngyWW10R2NHTnVRblpqYmxKRVlqSlNiRXBVVGtWVVZVNUtTbFJKTWxwdFJubGFWbEkxWTBkVmJFMHdVbFpWTUZGc1RXcGFkbU50Ykc1aFZ6Vm9aRWRzZG1KclJuQmpia0oyWTI1U1JHSXlVbXhLVkU1RlUxVkdSVXBVU1RKalIwWjZZekpXZFZveVZubFdTR3gzV2xOVmVsSkZSa1ZXVlhoVlNsUkpNbU5JU25aaVZ6bEVZakpTYkVwVVRrVktWRWt5WTIxV01HUllTblZTUjBZd1dsTlZlbEpEVlhsT2JsSjVZVmhDVldWWVFteEtWRTVGWWpJMWJHUXlSalZLVkVreVdtNUtkbUpUVlhwU1JXeENVa05WZVU1dVVuWktWRTVGVkZWT1NrcFVTVEpaVjFJeFlraFNlbEV5T1RGaWJsRnNUVEJSZUVwVVNUSmFSMVozV1ZoS01HUllTbXhXUjJ4MFdsVTViVkpIUmpWS1ZFNUZVVlY0VFZnd1VrSlhVMVY1VG01S2JHTXlWakJLVkU1RlpFaEtNVnBUVlhsT2JrcHNaRWhXZVdKc1VuQmlWMVpRV210U2FHVlRWWHBTUlVaTlZFWTVSVkZXYTJ4TmFrbHNUV3ROYkUxcVNuZGhWMUZzVFdwSmJFMHdSWGxQUkZreFRsUlJOVTVxV1RWT2Fsa3lUMFJKTkVwVVNrUktWRWw1WXpKc2EwcFVTWGxLVkU1Q1ltNVdjMkpEVlhsUmVWVjVUVzFLZW1GWFVXeE5ha2xzVFRCRmJFMXFTVFZhVkdzeFRtcG9hVTE2VVhsTlYwNXRXVlJHYUZsNmFHeFBSMXB0VFhwTk1scHFaek5QUjFab1RYcEdhazVxWTJ4TmFrbHNUV3ROYkUxcVNqQmplVlY1VFdsVmVsRlVSVEpQVkdzd1RucFJOVTVVVFhoTmVtTnNUV3ROYkUxcVNqQmxXRUpzU2xSSmVVcFVUa0pLVkVsNVlsaFNlV0Y1VlhsTmFWVjVVWGxWZVUxdVFtaGxVMVY1VFdsVmVsRlRWVE5SYVZWNVRXNVJiRTFxU1d4Tk1FVjRUbXByTlU1RVl6QlBWRlY2VFZSTk0wcFVTa1JLVkVsNVdtMVJiRTFxU1d4Tk1FVXpUMFJuZFU5RVkyeE5hMDFzVFdwS2VscERWWGxOYVZWNlVWUmpNMDlETkROT1UxVjVVWGxWZVUxdFNtbEtWRWw1U2xST1FrcFVWa05PYW1jMVNsUktSRTFxVlRGS1ZFcEVUMVJOZVVwVVNrUk9WRkUwU2xSV1JVcFVTa1JLVkVsNVkzbFZlVTFwVlhwUlUxVXhVV2xWTTFGcFZYbE5ibEZzVFdwSmJFMHdSWGRLVkVwRVNsUkplV1ZEVlhsTmFWVjZVVlJqTVU1cFZYbFJlVlY1VFc1cmJFMXFTV3hOTUVWNVRsUlZiRTFyVFd4TmFrcHRXa05WZVUxcFZYcFJWRTExVFdwUmJFMXJUV3hOYWtwNldrTlZlVTFwVlhwUlZFVjFUa1JGYkUxclRXeE5ha3BxU2xSSmVVcFVUa0pOYVZWNVVYbFZlVTF0Uld4TmFrbHNUVEJGZVUxNU5ESk9RMVY1VVhsVmVVMXRNVFJLVkVsNVNsUk9RazVFV1hWT1ZHZHNUV3ROYkUxcVNuUmlhVlY1VFdsVmVsRlVRWFZPZVZVelVrTlZlVkY1VlROUmFWVjVUVzVSYkUxcVNXeE5NRVY1VG1wUmJFMXJUV3hOYWtvMFNsUkplVXBVVGtKT2Ftc3dTbFJLUkVwVVNYbGxVMVY1VFdsVmVsRlVWVEJQUTFWNVVYbFZlVTF0V210S1ZFbDVTbFJPUWsxNlFYaE1ha0Y1U2xSS1JFcFVTWGxqTWxGc1RXcEpiRTB3UlhsUFZHdDFUa1JyYkUxclRXeE5ha3BxU2xSSmVVcFVUa0pPVTFWNVVYbFZlVTF0Uld4TmFrbHNUVEJGZUU1VVNURk1hbEY1U2xSS1JFcFVTWGxpV0dkc1RXcEpiRTB3UlhsUFJGbDZUR3BWTWtwVVNrUktWRWw1WWxjMGJFMXFTV3hOTUVWNFRYcFpkVTFxVVd4T01GRnNUV3ROYkU0d1NXeE5ha293U2xSSmVVcFVUa0pOYWtFelRYbFZlVkY1VlhsTmJtZHNUV3BKYkUwd1JUSlBSR3RzVFd0TmJFMXFTalZLVkVsNVNsUk9RazVVVVRSS1ZFcEVTbFJKZVZwdFVXeE5ha2xzVFRCRk1VcFVTa1JLVkVsNVl6SlJiRTFxU1d4Tk1FVXhTbFJLUkVwVVNYbFplVlY1VFdsVmVsRlVSV3hOYTAxc1RXcEthRXBVU1hsS1ZFNUNUV2swTTA1cFZYbFJlVlY1VFcweE5FcFVTWGxLVkU1Q1RXazBNMDVwVlhsUmVWVjVUVzB4ZFVwVVNYbEtWRTVDVFdrME0wNXBWVE5TUTFWNVVYbFZNMUZwVlhsTmJsRnNUV3BKYkUwd1JYbE5la2t5U2xSS1JFcFVTWGxsUTFWNVRXbFZlbEZVYTNwTmFWVjVVWGxWZVUxdWEyeE5ha2xzVFRCRmVrNVVaMnhOYTAxc1RXcEtiVnBEVlhsTmFWVjZVVlJOZDA5VE5IbE9hVlY1VVhsVmVVMXVUbXRLVkVsNVNsUk9RazE2UVRSTWFsRXlTbFJLUkVwVVNYbFplVlY1VFdsVmVsRlVUV3hOYTAxc1RXcEthRXBVU1hsS1ZFNUNUVlJGTWsxVE5IbE9VMVY1VVhsVmVVMXRNVFJLVkVsNVNsUk9RazFVYXpOT2VUUjZUa05WZVZGNVZYbE5iVEYxU2xSSmVVcFVUa0pPYW1Nd1RHcEpNRXBVWkVWS1ZFcEVTbFJrUTBwVVNYbGtRMVY1VFdsVmVsRlVTVEZQVkVsc1RXdE5iRTFxU2pSS1ZFbDVTbFJPUWs5RVJUTktWRXBFU2xSSmVXVlRWWGxOYVZWNlVWUkpOVTU1VlhsUmVWVjVUVzFhYTBwVVNYbEtWRTVDVFZSTk5FeHFRVEZLVkVwRVNsUkplV015VVd4TmFrbHNUVEJGZUUxNlFYVk5WR2RzVFd0TmJFMXFTbXBLVkVsNVNsUk9RazlUVlhsUmVWVjVUVzFGYkUxcVNXeE5NRVV3VDFSQmRVMVVhMnhOYTAxc1RXcEtkR1ZEVlhsTmFWVjZVVlJGTUU1NlFYVlBRMVY1VVhsVmVVMXRNWFZLVkVsNVNsUk9RazlFVFhWTlZHdHNUakJSYkUxclRXeE9NRWxzVFdwS01FcFVTWGxLVkU1Q1RXcHJlVTU1VlhsUmVWVjVUVzVuYkUxcVNXeE5NRVUwVFVSbmJFMXJUV3hOYWtvMVNsUkplVXBVVGtKTmFsa3dTbFJLUkVwVVNYbGFiVkZzVFdwSmJFMHdSWHBPUXpReFRYbFZlVkY1VlhsTmJrNXJTbFJKZVVwVVRrSk5lbEYxVFdwRmJFMXJUV3hOYWtwcVNsUkplVXBVVGtKT1UxVjVVWGxWZVUxdFJXeE5ha2xzVFRCRmVFMXFSWFZPZWtWc1RXdE5iRTFxU25SbFExVjVUV2xWZWxGVVNYbFBRelI2VFZOVmVWRjVWWGxOYlRGMVNsUkplVXBVVGtKTlZGbDFUV2xWTTFKRFZURlNRMVY1VVhsVmVVMXRUV3hOYWtsc1RUQkZlVTVEVlhsUmVWVjVUVzVPYWtwVVNYbEtWRTVDVG1sVk0xSkRWVE5TUTFVeFVrRTlQU0o5Il19");
                httpClient.DefaultRequestHeaders.Add("X-User-Experience-ID", " a05f5e85-1d84-49e3-8308-a8ebbb0b8adb");
                httpClient.DefaultRequestHeaders.Add("X-API-Key", " l7xx944d175ea25f4b9c903a583ea82a1c4c");
                httpClient.DefaultRequestHeaders.Add("X-Channel-ID", " southwest");
                httpClient.DefaultRequestHeaders.Add("X-App-ID", " air-booking");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-f", " A9LamLCLAQAA-SFAM2GkWWhxEyt2c7P9EOXj0Oo12o6Ly09Jadsp3FUgvuiQAUc-K7icuOKDwH8AAEB3AAAAAA==");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-b", " 78p6iy");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-c", " AIB9l7CLAQAAksYjrdBia-s6bZmoyM4ecTSHz445IgwSCs7E7qaIY9CfaPqX");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-d", " ABaAhIDBCKGFgQGAAYIQgISigaIAwBGAzvpizi_33wemiGPQn2j6lwAAAABfUYN1AMMolpbrHKE5dmlP8RbTLkA");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-z", " q");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-a", " OJ3ecJlw4njKeBOSjh3NAfH8Ciwmudc2DSPh2Pu32wRvg2=1kHxpNYjND_0q8n0pbLtvh6bG8=0EP4ifBiYAKCndMUoBde4nwfMtzcRUFK-ykKTFpmiaE9BYX0sabLGqhqQfXGMVw1IVQUjHBEu=lR1LByUR2cCcNXHum0VJU8Z8z6zhiN6CjAKMXV=-RPqAKyuOvcYu1vQ84pfK1r5tWOOvfiYC=p2S_VGw3-FfLsvnzm2s_66iGvJokiLqpybTIWHL_NFgOV2ZUS2wUIXTTguv2dPzraucsX-fWNfzrzfsyJ3ctMjouWW8vIhGwFv=UdesuCtL41eMrtkiEvkJe8DMnkOrg3zskVOZr3GW=8-mRmqq-dlI4dvqevKS6=fMtvByb0UezvKZ-Y4mBUzV2dTZ_RQDjmDrKSMLv1cE4aWZuO_Uf9ERrtbpslbvOT8mQKXEZe9gBMJeANglTJkfY1S-hg4655OpBzNMsdrJN_h8WTnb8MKMYZUbgWMpOLy4gpMCG-tEGxb8jxTYXrvJ-yQ8n5uDvT_n5_fh=ZQJs3LQOWUtjgCo8SITva2f=GKYxknfuvrJqVdh3OB_g1VQNBB-Ws=TN2LFaj8WS4S9kMEYJ8GsheajeTATlfc8qoL6nPLgLILqCoLknIey0hQhPQk3=8jbKeVvgi4svhTNtwDlJqQVh9e5aZOwT4ykvFjKC4oxdawpfUlqgMwRTXuJ_-ig6kxTatGCVmO4Lwv4CNrpfmjXDN1oeAZrIQBMyQhmhe=Jx8oGemjR2=2qE1SJUm6MV_CbLXLtB4kGXk4QUHQKWhN0fbuOLoZlSgxfSpYGrKQPdAWKsrYf0niA0bhJeCFfb-_xhqVMkkr-IGDHjrjNJM9SUwR_Lxnw2QVVRETZo=0he0CODNl5FPRn2AjfAjQPW2YssDUFzO4-YHDakCSBaqe9jZKETzduUFUn8pUqU_jfUyeycNiu2jIk5nGHp-RzjUdKV2F1n-hRqmFjhwPY5J9Lw20jMvmz14gisCKS9PxUjmp1kkYUCtGebQXDxD-ioRgyS=XF-ci4HHScdc9PpFHCKN8iN-bDTiJZXkJw3zC=r-truAEXGg5-l0uMG1Q6PcS_xz-SSyHpaWjzB0huPWE14XYbE4HDfcl3u9TGwWBKv_I6KydSH_lgoAZPJlwxgMAkvRp59k2gsEpautBtiJ3FKQRM3vYLzuTw1fmwsYyeglX41XPsFCsH1MePBs23RMlZNgNanKZCtbxWHQZPvl6mjAsrJIJfSpS5cuHeZshJiNqSbibD6_Y1VmXY-oJvXbMMYshEip0GtAuNeAhKUwgoWziBOoQJyHdv-MrkYYILg4_2Egrp4nasNo_NBi2z1ocDe896TCWzd6O4JNKmWDwhRYMS3ZjQV2ZgqcRCjUnJUJs3nRSkvHNvKmL9Qig5=EzI8pbI883=YLPb_DQQOrZ9nw5uYnzbjCpbPzpynl-tYAqChBDregRNCvEh0jGF9ktPPGPuGgVwbgM9p9OVozQaFuvhfCRhFpwLv-UUjALNanAKDnY0_a1euTtlzkdrMflIAVpYLXE4x=QLqKRepnddLbOQsZJAVZoE0GoSOWo-BensBk3qC=Qx3IAUv0Jib_IWkTPUH3NXcxjfH=9NPY99Q-vp8JEnCH=vvW=nixi-M0gy=jyaTmaRNYRnO9Srwdokcml1fxnKfZp9lBF0aypBtHVXSXgo9dNl8=jUAoEPqluNnJ=sEyVKGtTLwuHEDQ4vdCZABHVpIiA0paZs-TuYg0zqlLIoIowqm=VQWZGfoH8sibhJUnEBXPHsk86nW_vYCa8EboXZXYXiznDpjRH9VS6K5yzt6cEH0ANfWnd2fMM-hUC9kYP3=PnUy4_=QzLx=UqJl3lNMlFNsC5-tb_sp9uDqqKE9ScqyVMao9YphaYP2szauyAjUu6Xfo40r-9Pl8qa-1WsKuGkJWUhpgOXOW9qv4BJgg-64jBaZmMy143_6z63x9ZeuAcTgBtAKI03Dja43ZC5CG34b=v8swx1LDZW6aWbI8_UqyRSiOoxlISR3BpyCR9XNtvU_EnIGDxuhjhZhB=odLa2ZnDwTscBX2ZQuqQWSXR2J5oLtLtldBGCSu=CZiuQa95uM-CTnCwOCOyIqkSIKkmyA3DkMl6DzKlbAMJO-REQYN6akiOBzyFfVQCTzM6yAlhyqlu8yUkSMxPQgQSeP-NjNi931Lw_5NW=gJ6CuaP1uFTV6ciZR-t-42ljUpu_gFOmBg2jjgAwaWxxc2Bc=N09o2_-c8SCsmTydwF49Ptxq48RrMsva2BjCWEY8Q0ipnu-ze5VBLxBXEDT4Yg9ft5sGOXtUY0CiAUhjXyZ=SDJxAUH=glyG_aGHWGofNnD-WOyis6tURqYT3VObcef3bJ8hDUTo6xP8nDOQ_JDuYC2UlaF0vH-JkrBwmNF_h-YXC0uNMI58wsYHummkHjlsbxUKNoKOh5Sw6gTHgPZ4ucIARt8w188=UCaqLwQVprxHDudMfqlBY4EBgkezPS=-VNzcVkf6jFR6RO=6t_4vlH4zlePn6lwfsxu5lwQtc632wnK4TkAYot=35Gzs1eTgPEgt0qCMNCRa8ThMdGK3mSKke8ox_8fDu4c2qIDL9ggtqn9vHzcUktC3tUeo3D0Pd6eVBJLoqaTuLKhtIkTQKESdbmvI-VKjOH0RkqgAY9YR8fg8obgqPxfaAI_Ih0Q6r0iuk6XyNgo6vLmOeNTNGVTLMgaAaVI53AYL1S40wBmdG2H9QdXFbJ52IhF9zUZ53gu_eTKLnbsJ1VePK2_yEhN5DAXjrJiGPAU3VI-AG6CatrbbrAoQivhVkuKlZ40-vBkQpMC-vCapNDiDaCv6B349YSO8QV1xA2t18lkZa8=1LEg4AeD_XXy0TKU9J3tV1tOFjj_cHxfrZgdXKsBmCOx4lw4ZMGnQHrbirV8yZ5Y2r2RGlpOS=2OZ_uEVznBXoh9vDZkYSeEOj=tZdhEy1e-r-nvyaBmmsS1tjJDQ-QASIiJX8Da5IhlROdo25pmhqZ9rsQoNt6YZ01U9Azx2eYHKfHSgfn=lYgw2bEKMALj-Bu=zWbhAihJ4wsiybOwI=xOWxvK2tTqhHved4u9tLhunMyPwVApEj9fzPFpYjafClY3ohw_VbLYogux=dkR5XDwAOr98DxEwE0JgvKze-_-FCG1rnf9pUBtYrXjzcxJpPXM-Z5eFj8sSCu8wAacv9CrRvgbb_hc8uNN--9p2W5-vYr3TNA0UYKg_uHB3p2VvCuq3Hpv=vlYZEoLKr1R6L0yasV54CDqgn0MT-Ygqx5o=z3nmwl1x_g2Z_Azc1zqkOAnbqB20lkH09Kz1b_ZX2pIGFFiphetdQ9e-pK2-43nijfAjpDyEop15NiH-bIvRF3gGb4AkDeJcaQGsc=3z0=aDtPB-iyLtMyTuVvX32xY0KheJTLb2_FpNBq=TD_Ceuo84LYbwS8SpvcITrxpolm3zCtO60AgAlfjcg9uGrmh5eQIwun6vbeuqads8BEsU6NxyAbP1vnP09WrttfwDQn=BwBkuMLZGZne3losqttGBARCpA-Ny=IlB-4tHwG-LAaQ9-qYRlS11xOVbSwJmp6hm5DxpD8mBO-aE-X8KXdJhXbvSD_BcXqw5k3LqmcHmEezA6DUfjkQGxPzAxO0YN-gCNewdM5b0dTZgOlu=Hvede=y2CCec=JhDU_Ge14UoS0EMFMQVixA98f__XWXd9MpvdUR29mtPv50GBfOnsmMeCHQa1-Gh=9YWk0z2EJVxouT34MUcXq-0mD33HLsTE8Ui8yq0kLM0=pN8Wm9zrpLSRI6Os8t4ve6wAROB8K-cVC5AcCTM34HIIFAOcg4yAkzF3oKhNWTdQMFAhbEia5m-Rh=1Ad1vdKKYSi_BqSccAC856FY1sR=3BLxfj-XaVyx_m4Y1rZuaIx3gPYpWBKOnTBBYO3OpCehawJPpz4a-Tdr42ms5PcySdg83VF-3s_-lmAx6Svxta-ySirl3LHngpk_mMVinTGyg3cvePcSMuoQ-SJKnvWx9wNRMVfdgwFWrSpqs_SImIpNgvX_MZRI598frbrHYRvqiCygVy_bN4REjnxa0ty8x1J6-ngJ05UwYaqX9r9n-9dOkj3Wi6q_I8h0JtQH4a36l8lih_1uLJYL53OrVDtZy-iq2pWNZOmzpikbPqluxxnoqNM-ZBvaqn6lHUnTrhhlnnZ2xyf4_8LYJ_sB5h-W8hMyIFSXcH1Xv6Rmn_vKUPxU2-_EpeKi3YtyTTa6feaJK5Daq19P292Hd968_maanMK4iUZMoJg_Nz5O9D1IAwtNUSYGTze45n1zhhyq2VjIAFpqJGuTH8iuDRWj26d-ZDcAHw1ceQFc3HIJZByXsUCAIA94mk99tcaPzp2M44KIWPt8HPnxVpdvbz65-LPr8jbp_t2wYovYRmsbQUKrKgPHT5qUE5on51ntLJOK8fpXB9vkuAxOZtj4T13mV_YJmqTimj5sZa0X5PykPKV4akxS0HfKlhe-QxB9CoyRr69nODOs8z_zImB9iEwyJVI=keyb=tkl_TyuVGz_cyrcxJVyhVZufAURWg=ceUj1QTeaAWhBC=wMI4DQVelA9ltDnTdy-ug6OE_b3bRAWszJrpmnQvUsYUTFGBJAEiXRr6GMfdfQs_CytljiQfQbCnNBBM2-iie4JKXw6DvE0rOfGzodI_ezF4Mgk9J1I_WnFdX1tJ8IO4IWVcCbcJpN6pKLWnoo5mjEUBmAoPFXSrQu069=tNj9oJtWcoz5hsU_8Seixv93s4kEgoy4WJnNdbu6qJ=LQy=0jd12auHqcBO9fYlCNI8SK0WOCRjX9qQrOk8ZtMA=PQbmW58I-DszE0MUPqnf=1U9hOQS=rDzDNrOy5NS4Vrt5AAz_A3a5gNdwhpJqjFxnX_vZmgXKPD6UhCQRohhyut2-zbTyYgPyCnHoAICcTAlqe_AL9gaHP1M1CpIVnxNWABi61cH3KY14tnjYzifpAvD-9E9QSNKuLmGeuIj2maXpJKhhtCHCgRz24YPYPspW1UBBO8l5TkiEPznvpqb9SW2vVzDTR=TcjElawKyaG3PeJEcm4tMfHAYeCdF-5wkewRUNyqS2E5CKUjVcTWSHKrxRhlTaaVmiRFNRfE22CWP1eRZ6rMivFJwYHcIENgTaQpkJ=QIM9djqttJijo=S4zRStCI4_bwoN6QBq4B5fibmL6NcOHULcLHhIxr5jAjqK_oYIotX8=5gh6Eap6LuYLOcGob-zjfS=56Vs5HfDJYqp5F=Mwj56dFDPenuxDwBRyyMtCVwcd=kMfOQiZK2TMpB1qcNCER0bBBIBNv_mU9AxJswW0ceMJ0Go9r0ggjhRnkZ=ID92A36VtWdZn5ZzZKfmy8LjeHLKnz3mmVGSpGhBV-z0laJLVMNIOBPqP=eshQxswqBZfWIz23MkRF4KdYIKu0lIQXIAPFtWcqC_js5UHMdN9ImYr3F2H5_q=DltNUjvQ54f3bTDQSoaa3wKuugndyrYS66ZNL5SgXKbTBzPuj8RvchHsNJ-dybL1bLqvboLl=Z6tQ=_xluI3nzOBpZXLA=-NVlHzPyy8aLT6wB8jTTcWF_muLorfUuUsaoXzQ2fp0bm9eKiyDYk8PMtlb__-9jvcgjEdvZELS5Mk_2NlzgS06CswZbc4=Mga2RKNqOs5YdSt05LqXgQK_3LKf4Bryhf8i6roBLCw0pbPjOs98FoSYVnNLQixJApB9c=W2=uNS-Kh-0I4HP6VU8PVQ_pzs2nUETpTy2WRKDbS2BuwFcAS6YK56Uaf2bzwcAofjDqn_AagRxb9ZtldcCioVGXPF95bhH4suKvN6VUU-GguC=du0hcOHvkq9en9_0nHgHQj6KEdRpIbalRKodz6om2ilCS43app8ZV38c1Xdbp483hJ=pPuoApxhK=D-UkMS_CX6Zg4JoRlfA_Xp0Pcr8ZTMWyGjmBU0m4w-DR-byqyWKH6N9wxbU1vl==2inIXPEmrI4gRyGDlzmFxha0kcAb3RFIBo1f-cLpC9UrlOBOz=2xYAaOo3U5_EWVjqt6RyEgRVn4C=KJuwOLWslfi=ALY82AvtVyOf-BxpSuz-vYTRndaOvbO");

                // Other Headers
                //httpClient.DefaultRequestHeaders.Add("Content-Length", "67");
                httpClient.DefaultRequestHeaders.Add("Origin", " https://www.southwest.com");
                httpClient.DefaultRequestHeaders.Add("DNT", " 1");
                httpClient.DefaultRequestHeaders.Add("Sec-GPC", " 1");
                httpClient.DefaultRequestHeaders.Add("Connection", " keep-alive");

                httpClient.DefaultRequestHeaders.Add("Connection", "keep-alive");
                //httpClient.DefaultRequestHeaders.Add("Cookie", "Add your cookie values here");
                httpClient.DefaultRequestHeaders.Add("Sec-Fetch-Dest", "empty");
                httpClient.DefaultRequestHeaders.Add("Sec-Fetch-Mode", "cors");
                httpClient.DefaultRequestHeaders.Add("Sec-Fetch-Site", "same-origin");
                httpClient.DefaultRequestHeaders.Add("TE", " trailers");

                //authentication key
                //httpClient.DefaultRequestHeaders.Add("Cookie", " marketing_vistor_id=7b2fc193-2f87-4331-9f60-62dc06551335; UBER_CONSENTMGR=1694543244351|consent:true; udi-id=EwxgbpsNPuhj/0Ms+R6RGBRjcq1RErUD321Q2mvjwmISQWHKJ3HyGzCx4YcZ0WXQmzUFw0i6L3hXvCn4DwFboWD9A7UWabcj6OaowvP80+lRgy5zp9vBOucrstgoUeqaUxu9GLOnNfTEXwYUrlv6nYXr77XTO4D7GsRhGaZh+/nW9IdYeruUKb+DQOmsHA5CRF/zBxsGRC7v8BLK4V6YeA==99cAcfddGFn64+AMvQprBg==3NppPCS8Z5V0hNktcFG2C/vTc1PjQb/iCWIyuk56qEM=; usl_rollout_id=b43a5835-aaed-4b4f-8c98-13635bd0450e; udi-fingerprint=zSDj63pEDCysay7nLZ9SKqj6A+NFKxwCMhGdOTxrjuiWP/MAXxZHl9S48k/dwvsHCsM8c9mv4xX9WAuRW+jqvg==xOcAvb7JITrechca1v77U0IeTDHPmZKg/jypkF9fOJ8=; sid=QA.CAESEGtVD8OleEHfqO9S8KcljVcY1ZjEqAYiATEqJDAyNjNlZjg0LWVjY2YtNGI0YS04YjZmLWUyOGMxOTAyOTAwMjI81HG5m4bKLY81Ww2uOXCN0xLRDOh3IzTP_prxlkx7oK58Wg5NH-5ehIajBSsR7XpZkClBoWnOs8cVhtt1OgExQgh1YmVyLmNvbQ.RB-0mVNW1UCCv29xYiOW5O7WxBXbXRD8aLB0vDPoig8; csid=1.1695616085309.seIoMuhRPYWPtTtARnjEmVTtuwDfZqpAkq9FXr20vZs=; _cc=ActnoDLHXttro17Qyl0vzj%2Bm; _cid_cc=ActnoDLHXttro17Qyl0vzj%2Bm; _ua={\"session_id\":\"a589d976-b6c3-463e-b794-cf8401e44ac2\",\"session_time_ms\":1694543282004}; jwt-session=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7InNlc3Npb25fdHlwZSI6ImRlc2t0b3Bfc2Vzc2lvbiIsInRlbmFuY3kiOiJ1YmVyL3Byb2R1Y3Rpb24ifSwiaWF0IjoxNjk0NTQzMjgyLCJleHAiOjE2OTQ2Mjk2ODJ9.vXPoXCCIF9FFFyCgcf2WbYSoM-iuFDTtUx0dintVAJk; mp_adec770be288b16d9008c964acfba5c2_mixpanel=%7B%22distinct_id%22%3A%20%220263ef84-eccf-4b4a-8b6f-e28c19029002%22%2C%22%24device_id%22%3A%20%2218a2ff76ef31e-038f7cbf04a28b-d525429-1fa400-18a2ff76ef431e%22%2C%22%24search_engine%22%3A%20%22google%22%2C%22%24initial_referrer%22%3A%20%22https%3A%2F%2Fwww.google.com%2F%22%2C%22%24initial_referring_domain%22%3A%20%22www.google.com%22%2C%22%24user_id%22%3A%20%220263ef84-eccf-4b4a-8b6f-e28c19029002%22%7D; marketing_vistor_id=7b2fc193-2f87-4331-9f60-62dc06551335; _ua={\"session_id\":\"a589d976-b6c3-463e-b794-cf8401e44ac2\",\"session_time_ms\":1694543282004}; jwt-session=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2OTQ3MTY3NTIsImV4cCI6MTY5NDgwMzE1Mn0.9ua40PGlTuH5kz7T4dGtvRmwNoutR1VR-ftdoSItexs");
                httpClient.DefaultRequestHeaders.Add("Cookie", helper.GetConfiguration("SouthWest"));
                // Make an HTTP POST request to a URL
                string url = "https://www.southwest.com/api/air-booking/v1/air-booking/page/air/booking/shopping";
                string requestBody = helper.giveMeBodyForFetchingFlights(fd);


                // adding content to the request
                HttpContent requestContent = new StringContent(requestBody, null, "application/json");
                requestContent.Headers.ContentLength = requestBody.Length;
                HttpResponseMessage response = await httpClient.PostAsync(url, requestContent);

                if (response.IsSuccessStatusCode)
                {
                    var jsonResponse = await response.Content.ReadAsStringAsync();
                    Console.WriteLine("Give Me flights...........");
                    Console.WriteLine(jsonResponse);
                    Console.WriteLine("Give Me flights...........");

                    return Ok(jsonResponse);
                }
                else
                {
                    Console.WriteLine($"HTTP Error: {response.StatusCode}");
                }
            }
            return Ok();
        }
    }
}
