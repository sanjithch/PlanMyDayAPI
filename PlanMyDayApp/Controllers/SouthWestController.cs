using Microsoft.AspNetCore.Mvc;
using PlanMyDayApp.Model.Google_Flights;
using PlanMyDayApp.Model.Uber.GettingAddress;
using System.Net.Http.Headers;

namespace PlanMyDayApp.Controllers
{
    public class SouthWestController : Controller
    {

        SouthWestHelper helper = new SouthWestHelper();

        [HttpPost]
        [Route("getMeFlightsFromAirports")]
        public async Task<IActionResult> getMeFlightsFromAirports(RequestForFlightDetails fd)
        {
            //return Ok("{\"data\":{\"searchResults\":{\"fareSummary\":[{\"fareFamily\":\"WGA\",\"minimumFare\":{\"value\":\"467.98\",\"currencyCode\":\"USD\"}},{\"fareFamily\":\"BUS\",\"minimumFare\":{\"value\":\"603.58\",\"currencyCode\":\"USD\"}},{\"fareFamily\":\"PLU\",\"minimumFare\":{\"value\":\"487.98\",\"currencyCode\":\"USD\"}},{\"fareFamily\":\"ANY\",\"minimumFare\":{\"value\":\"553.58\",\"currencyCode\":\"USD\"}}],\"airProducts\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MCI\",\"fastestDuration\":\"290\",\"containsAvailability\":false,\"containsNonstop\":false,\"containsBeforeNoon\":true,\"containsNoonToSix\":true,\"containsAfterSix\":true,\"containsTimeOfDay\":true,\"containsStops\":true,\"containsDirect\":false,\"containsOnlyPlaneChange\":true,\"currencyCode\":null,\"details\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MCI\",\"departureTime\":\"17:00\",\"arrivalTime\":\"20:50\",\"nextDay\":false,\"totalDuration\":290,\"flightNumbers\":[\"785\",\"2269\"],\"filterTags\":[\"NOON_TO_SIX\",\"AVAILABLE\",\"STOPS\"],\"departureDateTime\":\"2023-11-16T17:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T20:50:00.000-06:00\",\"segments\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"ATL\",\"flightNumber\":\"785\",\"duration\":\"01:50\",\"numberOfStops\":0,\"departureTime\":\"17:00\",\"arrivalTime\":\"18:50\",\"departureDateTime\":\"2023-11-16T17:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T18:50:00.000-05:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73W\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"ATL\",\"flightNumber\":\"785\",\"legDuration\":110,\"stopDuration\":45,\"changePlanes\":true,\"departureTime\":\"17:00\",\"arrivalTime\":\"18:50\",\"departureDateTime\":\"2023-11-16T17:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T18:50:00.000-05:00\"}]},{\"originationAirportCode\":\"ATL\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"2269\",\"duration\":\"02:15\",\"numberOfStops\":0,\"departureTime\":\"19:35\",\"arrivalTime\":\"20:50\",\"departureDateTime\":\"2023-11-16T19:35:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T20:50:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73W\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"ATL\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"2269\",\"legDuration\":135,\"stopDuration\":0,\"departureTime\":\"19:35\",\"arrivalTime\":\"20:50\",\"departureDateTime\":\"2023-11-16T19:35:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T20:50:00.000-06:00\"}]}],\"fareProducts\":{\"ADULT\":{\"WGA\":{\"productId\":\"WGA|QLA0P2H,Q,IAD,ATL,2023-11-16T17:00-05:00,2023-11-16T18:50-05:00,WN,WN,785,73W|QLA0P2H,Q,ATL,MCI,2023-11-16T19:35-05:00,2023-11-16T20:50-06:00,WN,WN,2269,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"SOLD_OUT\",\"originalFare\":null,\"fare\":{},\"waivedFare\":null},\"BUS\":{\"productId\":\"BUS|LLA0P8L,L,IAD,ATL,2023-11-16T17:00-05:00,2023-11-16T18:50-05:00,WN,WN,785,73W|LLA0P8L,L,ATL,MCI,2023-11-16T19:35-05:00,2023-11-16T20:50-06:00,WN,WN,2269,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"553.28\",\"currencyCode\":\"USD\"},\"seatsLeft\":3,\"totalTaxesAndFees\":{\"value\":\"65.70\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"618.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"6640\"},\"waivedFare\":null},\"PLU\":{\"productId\":\"PLU|QLA0P4Q,Q,IAD,ATL,2023-11-16T17:00-05:00,2023-11-16T18:50-05:00,WN,WN,785,73W|QLA0P4Q,Q,ATL,MCI,2023-11-16T19:35-05:00,2023-11-16T20:50-06:00,WN,WN,2269,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"SOLD_OUT\",\"originalFare\":null,\"fare\":{},\"waivedFare\":null},\"ANY\":{\"productId\":\"ANY|YLA0P6L,Y,IAD,ATL,2023-11-16T17:00-05:00,2023-11-16T18:50-05:00,WN,WN,785,73W|YLA0P6L,Y,ATL,MCI,2023-11-16T19:35-05:00,2023-11-16T20:50-06:00,WN,WN,2269,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"506.77\",\"currencyCode\":\"USD\"},\"seatsLeft\":3,\"totalTaxesAndFees\":{\"value\":\"62.21\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"568.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"5068\"},\"waivedFare\":null}}}},{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MCI\",\"departureTime\":\"08:00\",\"arrivalTime\":\"12:05\",\"nextDay\":false,\"totalDuration\":305,\"flightNumbers\":[\"1009\",\"1980\"],\"filterTags\":[\"BEFORE_NOON\",\"AVAILABLE\",\"STOPS\"],\"departureDateTime\":\"2023-11-16T08:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T12:05:00.000-06:00\",\"segments\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MDW\",\"flightNumber\":\"1009\",\"duration\":\"01:55\",\"numberOfStops\":0,\"departureTime\":\"08:00\",\"arrivalTime\":\"08:55\",\"departureDateTime\":\"2023-11-16T08:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T08:55:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73W\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MDW\",\"flightNumber\":\"1009\",\"legDuration\":115,\"stopDuration\":100,\"changePlanes\":true,\"departureTime\":\"08:00\",\"arrivalTime\":\"08:55\",\"departureDateTime\":\"2023-11-16T08:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T08:55:00.000-06:00\"}]},{\"originationAirportCode\":\"MDW\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"1980\",\"duration\":\"01:30\",\"numberOfStops\":0,\"departureTime\":\"10:35\",\"arrivalTime\":\"12:05\",\"departureDateTime\":\"2023-11-16T10:35:00.000-06:00\",\"arrivalDateTime\":\"2023-11-16T12:05:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73W\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"MDW\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"1980\",\"legDuration\":90,\"stopDuration\":0,\"departureTime\":\"10:35\",\"arrivalTime\":\"12:05\",\"departureDateTime\":\"2023-11-16T10:35:00.000-06:00\",\"arrivalDateTime\":\"2023-11-16T12:05:00.000-06:00\"}]}],\"fareProducts\":{\"ADULT\":{\"WGA\":{\"productId\":\"WGA|QLA0P2H,Q,IAD,MDW,2023-11-16T08:00-05:00,2023-11-16T08:55-06:00,WN,WN,1009,73W|QLA0P2H,Q,MDW,MCI,2023-11-16T10:35-06:00,2023-11-16T12:05-06:00,WN,WN,1980,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"412.82\",\"currencyCode\":\"USD\"},\"seatsLeft\":3,\"totalTaxesAndFees\":{\"value\":\"55.16\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"467.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"2477\"},\"waivedFare\":null},\"BUS\":{\"productId\":\"BUS|LLA0P8L,L,IAD,MDW,2023-11-16T08:00-05:00,2023-11-16T08:55-06:00,WN,WN,1009,73W|LLA0P8L,L,MDW,MCI,2023-11-16T10:35-06:00,2023-11-16T12:05-06:00,WN,WN,1980,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"553.28\",\"currencyCode\":\"USD\"},\"totalTaxesAndFees\":{\"value\":\"65.70\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"618.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"6640\"},\"waivedFare\":null},\"PLU\":{\"productId\":\"PLU|QLA0P4Q,Q,IAD,MDW,2023-11-16T08:00-05:00,2023-11-16T08:55-06:00,WN,WN,1009,73W|QLA0P4Q,Q,MDW,MCI,2023-11-16T10:35-06:00,2023-11-16T12:05-06:00,WN,WN,1980,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"431.42\",\"currencyCode\":\"USD\"},\"seatsLeft\":3,\"totalTaxesAndFees\":{\"value\":\"56.56\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"487.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"3452\"},\"waivedFare\":null},\"ANY\":{\"productId\":\"ANY|YLA0P6L,Y,IAD,MDW,2023-11-16T08:00-05:00,2023-11-16T08:55-06:00,WN,WN,1009,73W|YLA0P6L,Y,MDW,MCI,2023-11-16T10:35-06:00,2023-11-16T12:05-06:00,WN,WN,1980,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"506.77\",\"currencyCode\":\"USD\"},\"totalTaxesAndFees\":{\"value\":\"62.21\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"568.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"5068\"},\"waivedFare\":null}}}},{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MCI\",\"departureTime\":\"12:05\",\"arrivalTime\":\"17:25\",\"nextDay\":false,\"totalDuration\":380,\"flightNumbers\":[\"1559\",\"1035\"],\"filterTags\":[\"NOON_TO_SIX\",\"AVAILABLE\",\"STOPS\"],\"departureDateTime\":\"2023-11-16T12:05:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T17:25:00.000-06:00\",\"segments\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"DEN\",\"flightNumber\":\"1559\",\"duration\":\"04:00\",\"numberOfStops\":0,\"departureTime\":\"12:05\",\"arrivalTime\":\"14:05\",\"departureDateTime\":\"2023-11-16T12:05:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T14:05:00.000-07:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73H\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"DEN\",\"flightNumber\":\"1559\",\"legDuration\":240,\"stopDuration\":50,\"changePlanes\":true,\"departureTime\":\"12:05\",\"arrivalTime\":\"14:05\",\"departureDateTime\":\"2023-11-16T12:05:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T14:05:00.000-07:00\"}]},{\"originationAirportCode\":\"DEN\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"1035\",\"duration\":\"01:30\",\"numberOfStops\":0,\"departureTime\":\"14:55\",\"arrivalTime\":\"17:25\",\"departureDateTime\":\"2023-11-16T14:55:00.000-07:00\",\"arrivalDateTime\":\"2023-11-16T17:25:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73H\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"DEN\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"1035\",\"legDuration\":90,\"stopDuration\":0,\"departureTime\":\"14:55\",\"arrivalTime\":\"17:25\",\"departureDateTime\":\"2023-11-16T14:55:00.000-07:00\",\"arrivalDateTime\":\"2023-11-16T17:25:00.000-06:00\"}]}],\"fareProducts\":{\"ADULT\":{\"WGA\":{\"productId\":\"WGA|QLA0P2H,Q,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|QLA0P2H,Q,DEN,MCI,2023-11-16T14:55-07:00,2023-11-16T17:25-06:00,WN,WN,1035,73H\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"SOLD_OUT\",\"originalFare\":null,\"fare\":{},\"waivedFare\":null},\"BUS\":{\"productId\":\"BUS|LLA0P8L,L,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|LLA0P8L,L,DEN,MCI,2023-11-16T14:55-07:00,2023-11-16T17:25-06:00,WN,WN,1035,73H\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"553.28\",\"currencyCode\":\"USD\"},\"seatsLeft\":1,\"totalTaxesAndFees\":{\"value\":\"65.70\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"618.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"6640\"},\"waivedFare\":null},\"PLU\":{\"productId\":\"PLU|QLA0P4Q,Q,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|QLA0P4Q,Q,DEN,MCI,2023-11-16T14:55-07:00,2023-11-16T17:25-06:00,WN,WN,1035,73H\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"SOLD_OUT\",\"originalFare\":null,\"fare\":{},\"waivedFare\":null},\"ANY\":{\"productId\":\"ANY|YLA0P6L,Y,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|YLA0P6L,Y,DEN,MCI,2023-11-16T14:55-07:00,2023-11-16T17:25-06:00,WN,WN,1035,73H\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"506.77\",\"currencyCode\":\"USD\"},\"totalTaxesAndFees\":{\"value\":\"62.21\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"568.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"5068\"},\"waivedFare\":null}}}},{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MCI\",\"departureTime\":\"18:20\",\"arrivalTime\":\"23:45\",\"nextDay\":false,\"totalDuration\":385,\"flightNumbers\":[\"623\",\"1775\"],\"filterTags\":[\"AFTER_SIX\",\"AVAILABLE\",\"STOPS\"],\"departureDateTime\":\"2023-11-16T18:20:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T23:45:00.000-06:00\",\"segments\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"DEN\",\"flightNumber\":\"623\",\"duration\":\"04:00\",\"numberOfStops\":0,\"departureTime\":\"18:20\",\"arrivalTime\":\"20:20\",\"departureDateTime\":\"2023-11-16T18:20:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T20:20:00.000-07:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73W\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"DEN\",\"flightNumber\":\"623\",\"legDuration\":240,\"stopDuration\":55,\"changePlanes\":true,\"departureTime\":\"18:20\",\"arrivalTime\":\"20:20\",\"departureDateTime\":\"2023-11-16T18:20:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T20:20:00.000-07:00\"}]},{\"originationAirportCode\":\"DEN\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"1775\",\"duration\":\"01:30\",\"numberOfStops\":0,\"departureTime\":\"21:15\",\"arrivalTime\":\"23:45\",\"departureDateTime\":\"2023-11-16T21:15:00.000-07:00\",\"arrivalDateTime\":\"2023-11-16T23:45:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73W\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"DEN\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"1775\",\"legDuration\":90,\"stopDuration\":0,\"departureTime\":\"21:15\",\"arrivalTime\":\"23:45\",\"departureDateTime\":\"2023-11-16T21:15:00.000-07:00\",\"arrivalDateTime\":\"2023-11-16T23:45:00.000-06:00\"}]}],\"fareProducts\":{\"ADULT\":{\"WGA\":{\"productId\":\"WGA|QLA0P2H,Q,IAD,DEN,2023-11-16T18:20-05:00,2023-11-16T20:20-07:00,WN,WN,623,73W|QLA0P2H,Q,DEN,MCI,2023-11-16T21:15-07:00,2023-11-16T23:45-06:00,WN,WN,1775,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"412.82\",\"currencyCode\":\"USD\"},\"seatsLeft\":4,\"totalTaxesAndFees\":{\"value\":\"55.16\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"467.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"2477\"},\"waivedFare\":null},\"BUS\":{\"productId\":\"BUS|LLA0P8L,L,IAD,DEN,2023-11-16T18:20-05:00,2023-11-16T20:20-07:00,WN,WN,623,73W|LLA0P8L,L,DEN,MCI,2023-11-16T21:15-07:00,2023-11-16T23:45-06:00,WN,WN,1775,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"553.28\",\"currencyCode\":\"USD\"},\"totalTaxesAndFees\":{\"value\":\"65.70\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"618.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"6640\"},\"waivedFare\":null},\"PLU\":{\"productId\":\"PLU|QLA0P4Q,Q,IAD,DEN,2023-11-16T18:20-05:00,2023-11-16T20:20-07:00,WN,WN,623,73W|QLA0P4Q,Q,DEN,MCI,2023-11-16T21:15-07:00,2023-11-16T23:45-06:00,WN,WN,1775,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"431.42\",\"currencyCode\":\"USD\"},\"seatsLeft\":4,\"totalTaxesAndFees\":{\"value\":\"56.56\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"487.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"3452\"},\"waivedFare\":null},\"ANY\":{\"productId\":\"ANY|YLA0P6L,Y,IAD,DEN,2023-11-16T18:20-05:00,2023-11-16T20:20-07:00,WN,WN,623,73W|YLA0P6L,Y,DEN,MCI,2023-11-16T21:15-07:00,2023-11-16T23:45-06:00,WN,WN,1775,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"506.77\",\"currencyCode\":\"USD\"},\"totalTaxesAndFees\":{\"value\":\"62.21\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"568.98\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"5068\"},\"waivedFare\":null}}}},{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MCI\",\"departureTime\":\"17:00\",\"arrivalTime\":\"23:30\",\"nextDay\":false,\"totalDuration\":450,\"flightNumbers\":[\"785\",\"3192\"],\"filterTags\":[\"NOON_TO_SIX\",\"AVAILABLE\",\"STOPS\"],\"departureDateTime\":\"2023-11-16T17:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T23:30:00.000-06:00\",\"segments\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"BNA\",\"flightNumber\":\"785\",\"duration\":\"03:45\",\"numberOfStops\":1,\"departureTime\":\"17:00\",\"arrivalTime\":\"19:45\",\"departureDateTime\":\"2023-11-16T17:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T19:45:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73W\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"ATL\",\"flightNumber\":\"785\",\"legDuration\":110,\"stopDuration\":50,\"changePlanes\":false,\"departureTime\":\"17:00\",\"arrivalTime\":\"18:50\",\"departureDateTime\":\"2023-11-16T17:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T18:50:00.000-05:00\"},{\"originationAirportCode\":\"ATL\",\"destinationAirportCode\":\"BNA\",\"flightNumber\":\"785\",\"legDuration\":65,\"stopDuration\":120,\"changePlanes\":true,\"departureTime\":\"19:40\",\"arrivalTime\":\"19:45\",\"departureDateTime\":\"2023-11-16T19:40:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T19:45:00.000-06:00\"}]},{\"originationAirportCode\":\"BNA\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"3192\",\"duration\":\"01:45\",\"numberOfStops\":0,\"departureTime\":\"21:45\",\"arrivalTime\":\"23:30\",\"departureDateTime\":\"2023-11-16T21:45:00.000-06:00\",\"arrivalDateTime\":\"2023-11-16T23:30:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73W\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"BNA\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"3192\",\"legDuration\":105,\"stopDuration\":0,\"departureTime\":\"21:45\",\"arrivalTime\":\"23:30\",\"departureDateTime\":\"2023-11-16T21:45:00.000-06:00\",\"arrivalDateTime\":\"2023-11-16T23:30:00.000-06:00\"}]}],\"fareProducts\":{\"ADULT\":{\"WGA\":{\"productId\":\"WGA|QLA0P2H,Q,IAD,BNA,2023-11-16T17:00-05:00,2023-11-16T19:45-06:00,WN,WN,785,73W|QLA0P2H,Q,BNA,MCI,2023-11-16T21:45-06:00,2023-11-16T23:30-06:00,WN,WN,3192,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"SOLD_OUT\",\"originalFare\":null,\"fare\":{},\"waivedFare\":null},\"BUS\":{\"productId\":\"BUS|LLA0P8L,L,IAD,BNA,2023-11-16T17:00-05:00,2023-11-16T19:45-06:00,WN,WN,785,73W|LLA0P8L,L,BNA,MCI,2023-11-16T21:45-06:00,2023-11-16T23:30-06:00,WN,WN,3192,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"553.28\",\"currencyCode\":\"USD\"},\"seatsLeft\":3,\"totalTaxesAndFees\":{\"value\":\"70.50\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"623.78\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"6640\"},\"waivedFare\":null},\"PLU\":{\"productId\":\"PLU|QLA0P4Q,Q,IAD,BNA,2023-11-16T17:00-05:00,2023-11-16T19:45-06:00,WN,WN,785,73W|QLA0P4Q,Q,BNA,MCI,2023-11-16T21:45-06:00,2023-11-16T23:30-06:00,WN,WN,3192,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"SOLD_OUT\",\"originalFare\":null,\"fare\":{},\"waivedFare\":null},\"ANY\":{\"productId\":\"ANY|YLA0P6L,Y,IAD,BNA,2023-11-16T17:00-05:00,2023-11-16T19:45-06:00,WN,WN,785,73W|YLA0P6L,Y,BNA,MCI,2023-11-16T21:45-06:00,2023-11-16T23:30-06:00,WN,WN,3192,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"506.77\",\"currencyCode\":\"USD\"},\"seatsLeft\":3,\"totalTaxesAndFees\":{\"value\":\"67.01\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"573.78\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"5068\"},\"waivedFare\":null}}}},{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MCI\",\"departureTime\":\"08:00\",\"arrivalTime\":\"15:05\",\"nextDay\":false,\"totalDuration\":485,\"flightNumbers\":[\"1009\",\"3651\"],\"filterTags\":[\"BEFORE_NOON\",\"AVAILABLE\",\"STOPS\"],\"departureDateTime\":\"2023-11-16T08:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T15:05:00.000-06:00\",\"segments\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MDW\",\"flightNumber\":\"1009\",\"duration\":\"01:55\",\"numberOfStops\":0,\"departureTime\":\"08:00\",\"arrivalTime\":\"08:55\",\"departureDateTime\":\"2023-11-16T08:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T08:55:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73W\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MDW\",\"flightNumber\":\"1009\",\"legDuration\":115,\"stopDuration\":280,\"changePlanes\":true,\"departureTime\":\"08:00\",\"arrivalTime\":\"08:55\",\"departureDateTime\":\"2023-11-16T08:00:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T08:55:00.000-06:00\"}]},{\"originationAirportCode\":\"MDW\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"3651\",\"duration\":\"01:30\",\"numberOfStops\":0,\"departureTime\":\"13:35\",\"arrivalTime\":\"15:05\",\"departureDateTime\":\"2023-11-16T13:35:00.000-06:00\",\"arrivalDateTime\":\"2023-11-16T15:05:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"7M8\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"MDW\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"3651\",\"legDuration\":90,\"stopDuration\":0,\"departureTime\":\"13:35\",\"arrivalTime\":\"15:05\",\"departureDateTime\":\"2023-11-16T13:35:00.000-06:00\",\"arrivalDateTime\":\"2023-11-16T15:05:00.000-06:00\"}]}],\"fareProducts\":{\"ADULT\":{\"WGA\":{\"productId\":\"WGA|QLA0P2H,Q,IAD,MDW,2023-11-16T08:00-05:00,2023-11-16T08:55-06:00,WN,WN,1009,73W|QLA0P2H,Q,MDW,MCI,2023-11-16T13:35-06:00,2023-11-16T15:05-06:00,WN,WN,3651,7M8\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"412.82\",\"currencyCode\":\"USD\"},\"totalTaxesAndFees\":{\"value\":\"60.76\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"473.58\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"2477\"},\"waivedFare\":null},\"BUS\":{\"productId\":\"BUS|BLA0P8Q,B,IAD,MDW,2023-11-16T08:00-05:00,2023-11-16T08:55-06:00,WN,WN,1009,73W|BLA0P8Q,B,MDW,MCI,2023-11-16T13:35-06:00,2023-11-16T15:05-06:00,WN,WN,3651,7M8\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"533.75\",\"currencyCode\":\"USD\"},\"totalTaxesAndFees\":{\"value\":\"69.83\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"603.58\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"6405\"},\"waivedFare\":null},\"PLU\":{\"productId\":\"PLU|QLA0P4Q,Q,IAD,MDW,2023-11-16T08:00-05:00,2023-11-16T08:55-06:00,WN,WN,1009,73W|QLA0P4Q,Q,MDW,MCI,2023-11-16T13:35-06:00,2023-11-16T15:05-06:00,WN,WN,3651,7M8\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"431.42\",\"currencyCode\":\"USD\"},\"totalTaxesAndFees\":{\"value\":\"62.16\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"493.58\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"3452\"},\"waivedFare\":null},\"ANY\":{\"productId\":\"ANY|QLA0P6B,Q,IAD,MDW,2023-11-16T08:00-05:00,2023-11-16T08:55-06:00,WN,WN,1009,73W|QLA0P6B,Q,MDW,MCI,2023-11-16T13:35-06:00,2023-11-16T15:05-06:00,WN,WN,3651,7M8\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"487.24\",\"currencyCode\":\"USD\"},\"totalTaxesAndFees\":{\"value\":\"66.34\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"553.58\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"4873\"},\"waivedFare\":null}}}},{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MCI\",\"departureTime\":\"12:05\",\"arrivalTime\":\"20:50\",\"nextDay\":false,\"totalDuration\":585,\"flightNumbers\":[\"1559\",\"3778\"],\"filterTags\":[\"NOON_TO_SIX\",\"AVAILABLE\",\"STOPS\"],\"departureDateTime\":\"2023-11-16T12:05:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T20:50:00.000-06:00\",\"segments\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"DEN\",\"flightNumber\":\"1559\",\"duration\":\"04:00\",\"numberOfStops\":0,\"departureTime\":\"12:05\",\"arrivalTime\":\"14:05\",\"departureDateTime\":\"2023-11-16T12:05:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T14:05:00.000-07:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73H\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"DEN\",\"flightNumber\":\"1559\",\"legDuration\":240,\"stopDuration\":250,\"changePlanes\":true,\"departureTime\":\"12:05\",\"arrivalTime\":\"14:05\",\"departureDateTime\":\"2023-11-16T12:05:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T14:05:00.000-07:00\"}]},{\"originationAirportCode\":\"DEN\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"3778\",\"duration\":\"01:35\",\"numberOfStops\":0,\"departureTime\":\"18:15\",\"arrivalTime\":\"20:50\",\"departureDateTime\":\"2023-11-16T18:15:00.000-07:00\",\"arrivalDateTime\":\"2023-11-16T20:50:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73W\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"DEN\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"3778\",\"legDuration\":95,\"stopDuration\":0,\"departureTime\":\"18:15\",\"arrivalTime\":\"20:50\",\"departureDateTime\":\"2023-11-16T18:15:00.000-07:00\",\"arrivalDateTime\":\"2023-11-16T20:50:00.000-06:00\"}]}],\"fareProducts\":{\"ADULT\":{\"WGA\":{\"productId\":\"WGA|QLA0P2H,Q,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|QLA0P2H,Q,DEN,MCI,2023-11-16T18:15-07:00,2023-11-16T20:50-06:00,WN,WN,3778,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"SOLD_OUT\",\"originalFare\":null,\"fare\":{},\"waivedFare\":null},\"BUS\":{\"productId\":\"BUS|LLA0P8L,L,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|LLA0P8L,L,DEN,MCI,2023-11-16T18:15-07:00,2023-11-16T20:50-06:00,WN,WN,3778,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"553.28\",\"currencyCode\":\"USD\"},\"seatsLeft\":3,\"totalTaxesAndFees\":{\"value\":\"71.30\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"624.58\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"6640\"},\"waivedFare\":null},\"PLU\":{\"productId\":\"PLU|QLA0P4Q,Q,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|QLA0P4Q,Q,DEN,MCI,2023-11-16T18:15-07:00,2023-11-16T20:50-06:00,WN,WN,3778,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"SOLD_OUT\",\"originalFare\":null,\"fare\":{},\"waivedFare\":null},\"ANY\":{\"productId\":\"ANY|YLA0P6L,Y,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|YLA0P6L,Y,DEN,MCI,2023-11-16T18:15-07:00,2023-11-16T20:50-06:00,WN,WN,3778,73W\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"506.77\",\"currencyCode\":\"USD\"},\"seatsLeft\":3,\"totalTaxesAndFees\":{\"value\":\"67.81\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"574.58\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"5068\"},\"waivedFare\":null}}}},{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"MCI\",\"departureTime\":\"12:05\",\"arrivalTime\":\"22:30\",\"nextDay\":false,\"totalDuration\":685,\"flightNumbers\":[\"1559\",\"1499\"],\"filterTags\":[\"NOON_TO_SIX\",\"AVAILABLE\",\"STOPS\"],\"departureDateTime\":\"2023-11-16T12:05:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T22:30:00.000-06:00\",\"segments\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"DEN\",\"flightNumber\":\"1559\",\"duration\":\"04:00\",\"numberOfStops\":0,\"departureTime\":\"12:05\",\"arrivalTime\":\"14:05\",\"departureDateTime\":\"2023-11-16T12:05:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T14:05:00.000-07:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"73H\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"IAD\",\"destinationAirportCode\":\"DEN\",\"flightNumber\":\"1559\",\"legDuration\":240,\"stopDuration\":350,\"changePlanes\":true,\"departureTime\":\"12:05\",\"arrivalTime\":\"14:05\",\"departureDateTime\":\"2023-11-16T12:05:00.000-05:00\",\"arrivalDateTime\":\"2023-11-16T14:05:00.000-07:00\"}]},{\"originationAirportCode\":\"DEN\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"1499\",\"duration\":\"01:35\",\"numberOfStops\":0,\"departureTime\":\"19:55\",\"arrivalTime\":\"22:30\",\"departureDateTime\":\"2023-11-16T19:55:00.000-07:00\",\"arrivalDateTime\":\"2023-11-16T22:30:00.000-06:00\",\"operatingCarrierCode\":\"WN\",\"marketingCarrierCode\":\"WN\",\"aircraftEquipmentType\":\"7M8\",\"wifiOnBoard\":true,\"stopsDetails\":[{\"originationAirportCode\":\"DEN\",\"destinationAirportCode\":\"MCI\",\"flightNumber\":\"1499\",\"legDuration\":95,\"stopDuration\":0,\"departureTime\":\"19:55\",\"arrivalTime\":\"22:30\",\"departureDateTime\":\"2023-11-16T19:55:00.000-07:00\",\"arrivalDateTime\":\"2023-11-16T22:30:00.000-06:00\"}]}],\"fareProducts\":{\"ADULT\":{\"WGA\":{\"productId\":\"WGA|QLA0P2H,Q,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|QLA0P2H,Q,DEN,MCI,2023-11-16T19:55-07:00,2023-11-16T22:30-06:00,WN,WN,1499,7M8\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"SOLD_OUT\",\"originalFare\":null,\"fare\":{},\"waivedFare\":null},\"BUS\":{\"productId\":\"BUS|LLA0P8L,L,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|LLA0P8L,L,DEN,MCI,2023-11-16T19:55-07:00,2023-11-16T22:30-06:00,WN,WN,1499,7M8\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"553.28\",\"currencyCode\":\"USD\"},\"seatsLeft\":3,\"totalTaxesAndFees\":{\"value\":\"71.30\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"624.58\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"6640\"},\"waivedFare\":null},\"PLU\":{\"productId\":\"PLU|QLA0P4Q,Q,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|QLA0P4Q,Q,DEN,MCI,2023-11-16T19:55-07:00,2023-11-16T22:30-06:00,WN,WN,1499,7M8\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"SOLD_OUT\",\"originalFare\":null,\"fare\":{},\"waivedFare\":null},\"ANY\":{\"productId\":\"ANY|YLA0P6L,Y,IAD,DEN,2023-11-16T12:05-05:00,2023-11-16T14:05-07:00,WN,WN,1559,73H|YLA0P6L,Y,DEN,MCI,2023-11-16T19:55-07:00,2023-11-16T22:30-06:00,WN,WN,1499,7M8\",\"pricingContext\":{\"cff\":\"CFFREV\",\"paxType\":\"ADT\",\"prcPaxType\":\"ADT\",\"pricingFlow\":\"REV\",\"flowType\":\"REVENUE\"},\"passengerType\":\"ADULT\",\"availabilityStatus\":\"AVAILABLE\",\"originalFare\":null,\"fare\":{\"baseFare\":{\"value\":\"506.77\",\"currencyCode\":\"USD\"},\"seatsLeft\":3,\"totalTaxesAndFees\":{\"value\":\"67.81\",\"currencyCode\":\"USD\"},\"totalFare\":{\"value\":\"574.58\",\"currencyCode\":\"USD\"},\"accrualPoints\":\"5068\"},\"waivedFare\":null}}}}],\"lowestFare\":{\"fareFamily\":\"WGA\",\"currencyCode\":\"USD\",\"value\":\"467.98\"}}],\"promoToken\":null}},\"success\":true,\"notifications\":null,\"uiMetadata\":{\"paymentInfoService\":true,\"discountServiceMaintenanceModeForDotcom\":false,\"discountServiceMaintenanceModeForSwabiz\":false,\"cvvForSavedCreditCard\":true,\"cvvForSavedCreditCardSwabiz\":true,\"carCrossSellEnabled\":true,\"cvvForEnteredCreditCardSwabiz\":false,\"chapiVersion\":\"1.69.0017-17\",\"airFirstTimeFlyer\":true,\"customerSummary\":{\"firstName\":\"Sanjith\",\"middleName\":null,\"lastName\":\"Chidhirala\",\"preferredName\":\"Sanjith\",\"accountNumber\":\"22693894123\",\"accountStatus\":\"ACTIVE\",\"redeemablePoints\":\"814\",\"tier\":\"NON_ELITE\",\"accountType\":\"MEMBER\",\"primaryEmail\":\"sanjithsmailinusa@gmail.com\",\"tierStatusPending\":false,\"companyId\":null,\"chaseVisaRrEnrolled\":false,\"accountCreatedDate\":\"2022-12-02\",\"memberStartDate\":\"2022-12-02\",\"companionPassInfo\":{\"companionPassAchieved\":false,\"companionDeclared\":false,\"companionQualifyingPoints\":814,\"companionQualifyingFlights\":true,\"companionQualifyingPointsRemaining\":134186}},\"rapidRewardsMaintenance\":false,\"earlyBirdCrossSellEnabled\":true,\"proxyLogout\":true,\"payPalService\":true,\"fundsService\":true}}");
            Console.WriteLine(fd.To);
            Console.WriteLine(fd.From);
            Console.WriteLine(fd.date);
            using (HttpClient httpClient = new HttpClient())
            {
                string url = "https://www.southwest.com/api/air-booking/v1/air-booking/page/air/booking/shopping";
                // General Headers
                httpClient.DefaultRequestHeaders.Add("Host", " www.southwest.com");
                httpClient.DefaultRequestHeaders.Add("User-Agent", " Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0");
                httpClient.DefaultRequestHeaders.Add("Accept", " application/json, text/javascript, */*; q=0.01");
                httpClient.DefaultRequestHeaders.Add("Accept-Language", " en-US,en;q=0.5");
                httpClient.DefaultRequestHeaders.Add("x-swa-di-uid", " undefined");
                httpClient.DefaultRequestHeaders.Add("x-swa-di-usid", " undefined");
                httpClient.DefaultRequestHeaders.Add("x-swa-di-pid", " undefined");
                httpClient.DefaultRequestHeaders.Add("x-swa-di-dtid", " f7098e484c53ee440dac6aaff779a6c3d8c2");
                httpClient.DefaultRequestHeaders.Add("x-swa-di-ue", " ");
                httpClient.DefaultRequestHeaders.Add("X-User-Experience-ID", " bf83253f-a2c1-4fba-b912-542f6bc22364");
                httpClient.DefaultRequestHeaders.Add("X-API-Key", " l7xx944d175ea25f4b9c903a583ea82a1c4c");
                httpClient.DefaultRequestHeaders.Add("X-Channel-ID", " southwest");
                httpClient.DefaultRequestHeaders.Add("X-App-ID", " air-booking");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-f", " A1BpTSaMAQAAI_95AMtSA8fCOWOuyV1KJ1rC5F_SYXiY_cZewV5M80cNMSCUAUtLaFGcuFIDwH8AAEB3AAAAAA==");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-b", " 74l4u3");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-c", " AMB-SSaMAQAAy7lzyh4RCbGFBvP46bZu2E0YckorsZmor1XNytv0f4zXNTiW");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-d", " ABaAhIDBCKGFgQGAAYIQgISigaIAwBGAzvpizi_33wfb9H-M1zU4lv____-uH0iNAExIcriP_PmhhWm4DskxqH0");
                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-z", " q");

                httpClient.DefaultRequestHeaders.Add("EE30zvQLWf-a", " ano67L4y-1Tdo-ou9rl330dHQTFUjqKpUkEAfzuDgIpfzX1LACLQig=R7UUsSOpw5LwOmHLmGhQCQFGERLmh=k4=RJutvHAurDvik8YeKa7GeGbFMRY=nBW_ezQ1_PA0Xl8bP-k2LqRgajD2-PQZTeQkVLEOZV3dMogZhgRFze28vG0932MXoShLl_XwphmK4_EZqhHFsPgR56mYSR5eYbExuvgA2FC4UAMhmMCGn_3iSi-6sbyL=bAxZsBaLymtp6JKfEqBvvKoEMleC8GJFE70zylrFMBTeW2z8y5-2-kd-dzPBDOnkVn7gs7C6nIOw6ahOjmtyfGCxDfgvoOJibjxJFkkW8D4=lW3k1qnrdoVAeNKFe_MvkE1egP2LphB1zvnRkfbuXIaQ6z8Xhwv0B8TpDYrPIJ4Akv7VhfG-3VgR3K14g=9adZoSOUEyOB2pPVzHbmELAR2sys=Gi38NR_BiYdjQRTGNoDvTxqsOOKihxQ=GUPJojONbYxXDhKvI7VIde7Bd1SC-08IeCNVNhH9arKMabebmJCqPz=swiM63e_T50ZNwv28_UIrB6rb4daetF=-IS_TWOHMnGEmQ0iTP4S0i=RT_VA=bNeQNyJkTfjRLkd5d5XZCYdillzeskJh-p=08H9AXp-1PsA54NVA9Zw82tsFDTPE8f6UsBg0mAK0S3nylx4UMRL_YKvMNThLRaFGsQ4Any_QwDMx5W_DQqO=osOTIPsYvHGFt6Q5ESz0OgG_W871fZTCLg3IshK1eE-TYMn98hRRNbQNMXADGtS-dATOAxyaxDt8=oXphFpgqQ2IJVs42F6_Dxze0p3-Opwa1XBj0v5P4g9UOuSOFueh1mWTgKjyKBF2FjlYxg2xqItej_9fg2r1rpwjDoh=9DbPDbW9QJGRbC3OBeg8ZChzZySokXFNGuhUx83-Cj9SK8_wENT2_qWpl-0v-B2qOfUw_WsO8v1wSx8w7VU-vOyTEaV-Jdp6_F9Kwtl3NDAbLohw9KXf7lxZzvHCnE8t0Fqskuj8=CblJ4OgK6Ky8fiGlwBu=SXAxdMd8Q7XIuwgqB3G-C_8YaW4wXgbdl4C0xlnWnJOe1wIxQWydT_rbtmHqQ-kBInmQKlPU2bBRxDalWkkOKBr5gVMUI-oy6qVRUj6T7uDzrT-fK03HGFhanrsOjfGd-1CVWSVPrARJj4wKSwQNvLihe4h4IivMK7QnrjkeSBVPFyRBg_krbfEBHohzkbZY6g5fk_CL5WGk-dPYmKVDGrJIZvbsQ=mN9d8b3-Xw8FFLZ5gD5XBjTkhxeR5BuYRR0NCoW-UdkaMOon-IXa9bNwajttTil2t7GzyVzR4K-E11yWq_JgSmqdeDXFOG8sMvPJMwbIX8PLtdIWltD7hO448gohXBEOiSAv9ljGvXCJ7W03hlQo-l=j3O5=C5e8pI5ZCmWFnuLzx6Xd2x0E7NODd7237L9wJCi2BEugoL3zr2rCo5wbLDTZ4Hp8ID=P5vBxDJuP=QyDT-f2kC=89y5Nbx4lRupMlTSUO6d1KDsx7slUKqBHJFoRuk=JKgMFGdDG3=nnws8HwB9-Q=FjTi9j4HR");
                httpClient.DefaultRequestHeaders.Add("Origin", "https://www.southwest.com");
                httpClient.DefaultRequestHeaders.Add("Connection", "keep-alive");
                httpClient.DefaultRequestHeaders.Add("Referer", "https://www.southwest.com/air/booking/?clk=GSUBNAV-AIR-BOOK");
                httpClient.DefaultRequestHeaders.Add("Sec-Fetch-Dest", " empty");
                httpClient.DefaultRequestHeaders.Add("Sec-Fetch-Mode", " cors");
                httpClient.DefaultRequestHeaders.Add("Sec-Fetch-Site", " same-origin");
                httpClient.DefaultRequestHeaders.Add("TE", " trailers");

                //authentication key
                httpClient.DefaultRequestHeaders.Add("Cookie", helper.GetConfiguration("SouthWest"));

                // Make an HTTP POST request to a URL

                string requestBody = helper.giveMeBodyForFetchingFlights(fd);


                // adding content to the request
                HttpContent requestContent = new StringContent(requestBody, null, "application/json");
                requestContent.Headers.ContentLength = requestBody.Length;
                HttpResponseMessage response = await httpClient.PostAsync(url, requestContent);

                if (response.IsSuccessStatusCode)
                {
                    var jsonResponse = await response.Content.ReadAsStringAsync();
                    Console.WriteLine("Give Me flights...........");
                    Console.WriteLine(jsonResponse);
                    Console.WriteLine("Give Me flights...........");

                    return Ok(jsonResponse);
                }
                else
                {
                    Console.WriteLine($"HTTP Error: {response.StatusCode}");
                }
            }
            return Ok();
        }
    }
}
